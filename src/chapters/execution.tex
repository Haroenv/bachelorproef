% !TEX root = ./main.tex

\section{Technical execution} % (fold)
\label{sec:execution}

\subsubsection{Organising state} % (fold)
\label{ssub:organising_state}

talk about the difference between storing params and storing widgets

% subsubsection organising_state (end)

\subsubsection{Handling state changes} % (fold)
\label{ssub:handling_state_changes}

% subsubsection handling_state_changes (end)

\subsubsection{Getting responses from the API} % (fold)
\label{ssub:getting_responses_from_the_api}

% subsubsection getting_responses_from_the_api (end)

\subsubsection{Complete implementation} % (fold)
\label{ssub:complete_implementation}

\begin{lstlisting}[caption={Using instantearch-core},label={lst:is-core-usage}]
// stores.js
import algoliasearch from 'algoliasearch';
import { createStore } from 'instantsearch-core';

const appId = 'OFCNCOG2CU';
const apiKey = 'f54e21fa3a2a0160595bb058179bfb1e';
const indexName = 'products_asc';

const client = algoliasearch(appId, apiKey);
const productsStore = createStore(client, indexName);

export productsStore;

// widget.js
import { setQuery } from 'instantsearch-core/actions/query';
import { productsStore } from './stores';

function onInput(event) {
  event.preventDefault();

  productsStore.refine(setQuery(event.target.value));
}
\end{lstlisting}

% subsubsection complete_implementation (end)

